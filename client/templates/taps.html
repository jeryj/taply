<template name="taps">
    <ul class="taps no-list-style block-list">
        {{#each taps _id}}
        {{ownerId}}
            <li>
                Tap: <strong>{{name}}</strong><br/>
                {{#if onTap}}
                    {{#with whatsOnTap onTap}}
                        Bev: <strong>{{name}}</strong>
                    {{/with}}
                    {{#if isOwner ownerId}}
                        <a class="remove-bev-from-tap" href="#">Remove Bev</a>
                    {{/if}}

                {{ else }}
                    {{#if isOwner ownerId}}
                        <form class="put-on-tap">
                            <select class="put-on-tap-bev-list">
                            {{#each ownerBevs ownerId}}
                                <option data-bevID="{{_id}}">{{name}}</option>
                            {{/each}}
                            </select>
                            <input type="submit" value="Put On Tap">
                        </form>
                    {{/if}}
                {{/if}}
                <br/>
                {{#if isOwner ownerId}}
                    <a href="#" class="delete-tap">Delete Tap</a>
                    <a href="/taplist/edit-tap/{{_id}}" class="edit-tap">Edit Tap</a>
                {{/if}}
            </li>
        {{/each}}
        {{#if currentUser}}
            <li><a href="{{name}}/add-tap">Add Tap</a></li>
        {{/if}}
    </ul>
</template>

<template name="addTap">
    <h3>Add Tap: {{name}}</h3>
    {{> addTapForm}}
</template>

<template name="addTapForm">
    <form class="add-tap">
        <label for="tap-name">Tap Name - Designator (Star, Circle, Red, etc)</label>
        <input id="tap-name" type="text" name="tap-name" />

        <label for="tap-location">Tap Position (From Left to Right)</label>
        <input id="tap-location" type="number" name="tap-location" min="1" max="20"/>

        <input type="submit" value="Add Tap">
    </form>
</template>

<template name="editTap">
    <h3>Edit Tap: {{name}}</h3>
    {{> editTapForm}}
</template>

<template name="editTapForm">
    <form class="edit-tap">
        <label for="tap-name">Tap Name - Designator (Star, Circle, Red, etc)</label>
        <input id="tap-name" type="text" name="tap-name" value="{{name}}"/>

        <label for="tap-location">Tap Position (From Left to Right)</label>
        <input id="tap-location" type="number" name="tap-location" min="1" max="20" value="{{location}}"/>

        <input type="submit" value="Edit Tap">
    </form>
</template>
